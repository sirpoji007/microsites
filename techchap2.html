<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support and Resistance | Technical Analysis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#6C63FF',
                        darkBg: '#181818',
                        lightBg: '#FFFFFF',
                        darkText: '#333333',
                        lightText: '#F3F4F6'
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s linear infinite',
                    }
                }
            }
        }

        // Check for dark mode preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }

        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        .progress-bar {
            transition: width 0.3s ease;
        }
        
        .section-content {
            display: none;
        }
        
        .section-content.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            transform: translateY(0);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(93, 92, 222, 0.1), 0 10px 10px -5px rgba(93, 92, 222, 0.04);
        }

        .dark .quiz-option {
            background-color: #2D2D2D;
            border-color: #3D3D3D;
        }
        
        .dark .quiz-option:hover {
            background-color: #3D3D3D;
        }
        
        .quiz-option.selected {
            border-color: #5D5CDE;
            background-color: rgba(93, 92, 222, 0.1);
        }
        
        .dark .quiz-option.selected {
            background-color: rgba(93, 92, 222, 0.2);
        }
        
        .quiz-option.correct {
            border-color: #10B981;
            background-color: rgba(16, 185, 129, 0.1);
        }
        
        .quiz-option.incorrect {
            border-color: #EF4444;
            background-color: rgba(239, 68, 68, 0.1);
        }
        
        .price-chart {
            position: relative;
            height: 220px;
            width: 100%;
            overflow: hidden;
        }
        
        .chart-line {
            position: absolute;
            height: 2px;
            background-color: #5D5CDE;
            width: 100%;
            transform-origin: left;
            transition: transform 0.5s ease;
        }
        
        .interactive-chart {
            position: relative;
            width: 100%;
            height: 300px;
            overflow: hidden;
            border-radius: 0.5rem;
        }
        
        .price-line {
            height: 2px;
            background-color: #5D5CDE;
            position: absolute;
            width: 100%;
        }
        
        .support-line {
            height: 2px;
            background-color: #10B981;
            position: absolute;
            width: 100%;
            z-index: 10;
        }
        
        .resistance-line {
            height: 2px;
            background-color: #EF4444;
            position: absolute;
            width: 100%;
            z-index: 10;
        }
        
        .price-point {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #5D5CDE;
            transform: translate(-50%, -50%);
            z-index: 20;
        }

        .annotation {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 12px;
            transform: translateX(-50%);
            z-index: 30;
        }
        
        .dark .annotation {
            background-color: rgba(45, 45, 45, 0.9);
            color: white;
        }
        
        .trend-demo {
            position: relative;
            width: 100%;
            height: 200px;
        }
        
        .trend-line {
            position: absolute;
            height: 3px;
            background-color: #5D5CDE;
            z-index: 10;
        }
        
        .trend-point {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #5D5CDE;
            transform: translate(-50%, -50%);
            z-index: 20;
            box-shadow: 0 0 0 3px rgba(93, 92, 222, 0.2);
        }
        
        .trend-label {
            position: absolute;
            background-color: #5D5CDE;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            transform: translate(-50%, -100%);
            margin-top: -10px;
            z-index: 30;
            white-space: nowrap;
        }
    </style>
</head>
<body class="bg-lightBg dark:bg-darkBg text-darkText dark:text-lightText transition-all duration-200">
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="sticky top-0 z-50 bg-white dark:bg-darkBg shadow-sm border-b border-gray-200 dark:border-gray-800">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <svg class="w-8 h-8 text-primary" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zm6-4a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zm6-3a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path>
                    </svg>
                    <h1 class="text-lg font-bold">Technical Analysis</h1>
                </div>
                
                <div class="flex items-center space-x-4">
                    <!-- Progress -->
                    <div class="hidden md:flex items-center space-x-2">
                        <span class="text-sm font-medium progress-text">0%</span>
                        <div class="w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                            <div class="progress-bar h-full bg-primary rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <!-- Dark Mode Toggle -->
                    <button id="darkModeToggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors">
                        <svg id="lightIcon" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path>
                        </svg>
                        <svg id="darkIcon" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Progress Bar -->
            <div class="md:hidden w-full h-1 bg-gray-200 dark:bg-gray-700">
                <div class="progress-bar h-full bg-primary" style="width: 0%"></div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="flex-grow container mx-auto px-4 py-8">
            <!-- Hero Section -->
            <section class="mb-16">
                <div class="bg-gradient-to-br from-primary/10 to-secondary/10 dark:from-primary/20 dark:to-secondary/20 rounded-2xl p-6 md:p-8 flex flex-col md:flex-row items-center">
                    <div class="md:w-1/2 mb-6 md:mb-0 md:pr-8">
                        <h1 class="text-3xl md:text-4xl font-bold mb-4">Support and Resistance</h1>
                        <p class="text-lg mb-6 text-gray-700 dark:text-gray-300">
                            Learn how to identify key price levels where market forces may cause price reversals or pauses, and how to use them to make better trading decisions.
                        </p>
                        <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
                            <button id="startLearningBtn" class="bg-primary hover:bg-primary/90 text-white font-medium py-2.5 px-5 rounded-lg transition-colors flex items-center justify-center">
                                <span>Start Learning</span>
                                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                                </svg>
                            </button>
                            <button id="showObjectivesBtn" class="border border-primary text-primary hover:bg-primary/10 font-medium py-2.5 px-5 rounded-lg transition-colors">
                                Learning Objectives
                            </button>
                        </div>
                    </div>
                    <div class="md:w-1/2 flex justify-center">
                        <lottie-player src="https://assets8.lottiefiles.com/packages/lf20_qp1q7mct.json" background="transparent" speed="1" style="width: 300px; height: 300px;" loop autoplay></lottie-player>
                    </div>
                </div>
            </section>
            
            <!-- Learning Objectives Section -->
            <section id="objectives" class="hidden mb-16 bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <svg class="w-6 h-6 mr-2 text-primary" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path>
                    </svg>
                    Learning Objectives
                </h2>
                <p class="text-gray-600 dark:text-gray-400 mb-6">
                    At the end of this chapter, you will be able to:
                </p>
                
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Define support and resistance levels</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Identify support and resistance zones on price charts</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Understand the psychology behind support and resistance</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Apply different methods to determine support and resistance</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Recognize breakouts and trend formations</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div class="ml-3">
                            <p class="text-base font-medium">Develop trading strategies based on support and resistance</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Sections Navigation -->
            <div class="mb-8 flex overflow-x-auto pb-2 scrollbar-hide space-x-4" id="sectionsNav">
                <button class="section-btn active whitespace-nowrap px-4 py-2 bg-primary text-white rounded-lg font-medium" data-section="1">
                    Introduction to S&R
                </button>
                <button class="section-btn whitespace-nowrap px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors" data-section="2">
                    Psychology of S&R
                </button>
                <button class="section-btn whitespace-nowrap px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors" data-section="3">
                    Identifying S&R Levels
                </button>
                <button class="section-btn whitespace-nowrap px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors" data-section="4">
                    Trading with S&R
                </button>
                <button class="section-btn whitespace-nowrap px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors" data-section="5">
                    Trend Analysis
                </button>
                <button class="section-btn whitespace-nowrap px-4 py-2 bg-gray-200 dark:bg-gray-800 hover:bg-gray-300 dark:hover:bg-gray-700 rounded-lg font-medium transition-colors" data-section="6">
                    Practical Applications
                </button>
            </div>
            
            <!-- Content Sections -->
            <div id="contentSections">
                <!-- Section 1: Introduction to Support and Resistance -->
                <section id="section1" class="section-content active bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-8">
                    <h2 class="text-2xl font-bold mb-6">Introduction to Support and Resistance</h2>
                    
                    <div class="flex flex-col md:flex-row mb-8">
                        <div class="md:w-1/2 md:pr-6 mb-6 md:mb-0">
                            <p class="mb-4 text-gray-700 dark:text-gray-300">
                                Support and resistance are fundamental concepts in technical analysis that help traders identify key price levels where the direction of a trend is likely to pause or reverse. These levels represent the ongoing battle between buyers (demand) and sellers (supply) in the market.
                            </p>
                            <p class="text-gray-700 dark:text-gray-300">
                                By understanding where these levels are, traders can make more informed decisions about potential entry and exit points, as well as set more effective stop-loss and take-profit levels.
                            </p>
                        </div>
                        <div class="md:w-1/2 flex justify-center items-center">
                            <div class="interactive-chart bg-gray-100 dark:bg-gray-800 p-4 relative">
                                <div class="support-line" style="bottom: 80px;"></div>
                                <div class="resistance-line" style="bottom: 180px;"></div>
                                
                                <div class="annotation" style="bottom: 200px; left: 50%;">Resistance Zone</div>
                                <div class="annotation" style="bottom: 60px; left: 50%;">Support Zone</div>
                                
                                <!-- Price path -->
                                <div id="pricePath" class="relative h-full w-full">
                                    <!-- JS will generate the price path -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-5">
                            <h3 class="font-semibold text-lg mb-3 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                                </svg>
                                Support
                            </h3>
                            <p class="text-blue-800 dark:text-blue-200">
                                <strong>Support</strong> refers to a price level at which buying pressure is strong enough to prevent the price from falling further. It acts as a floor for the price, creating a barrier that keeps it from declining.
                            </p>
                            <div class="mt-4 bg-white dark:bg-gray-800 rounded-lg p-3">
                                <p class="text-gray-700 dark:text-gray-300 text-sm">
                                    When price approaches a support level, buyers typically step in, seeing the lower price as a good opportunity to buy, which can lead to a price bounce or reversal.
                                </p>
                            </div>
                        </div>
                        
                        <div class="bg-red-50 dark:bg-red-900/20 rounded-lg p-5">
                            <h3 class="font-semibold text-lg mb-3 flex items-center">
                                <svg class="w-5 h-5 mr-2 text-red-600 dark:text-red-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                                </svg>
                                Resistance
                            </h3>
                            <p class="text-red-800 dark:text-red-200">
                                <strong>Resistance</strong> refers to a price level at which selling pressure is significant enough to prevent the price from rising further. It acts as a ceiling for the price, creating a barrier that keeps it from advancing.
                            </p>
                            <div class="mt-4 bg-white dark:bg-gray-800 rounded-lg p-3">
                                <p class="text-gray-700 dark:text-gray-300 text-sm">
                                    When price approaches a resistance level, sellers typically step in, seeing the higher price as a good opportunity to sell, which can lead to a price rejection or reversal.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-5 mb-8">
                        <h3 class="font-semibold text-lg mb-3">Types of Support and Resistance</h3>
                        
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm">
                                <div class="flex items-center mb-2">
                                    <svg class="w-5 h-5 text-primary mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path>
                                        <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path>
                                    </svg>
                                    <h4 class="font-medium">Horizontal S&R</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    Price levels that have historically acted as support or resistance, creating horizontal barriers.
                                </p>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm">
                                <div class="flex items-center mb-2">
                                    <svg class="w-5 h-5 text-primary mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                    </svg>
                                    <h4 class="font-medium">Diagonal S&R (Trendlines)</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    Sloping lines that connect a series of highs or lows, indicating the direction of the trend.
                                </p>
                            </div>
                            
                            <div class="bg-white dark:bg-gray-900 rounded-lg p-4 shadow-sm">
                                <div class="flex items-center mb-2">
                                    <svg class="w-5 h-5 text-primary mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zm6-4a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zm6-3a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"></path>
                                    </svg>
                                    <h4 class="font-medium">Dynamic S&R</h4>
                                </div>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    Moving indicators like moving averages that adapt to changing price conditions and act as dynamic support or resistance.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Video Section -->
                    <div class="mb-8">
                        <h3 class="font-semibold text-lg mb-3">Video: Introduction to Support and Resistance</h3>
                        <div class="aspect-w-16 aspect-h-9 bg-gray-200 dark:bg-gray-800 rounded-lg flex items-center justify-center">
                            <div class="text-center p-6">
                                <svg class="w-16 h-16 mx-auto text-gray-400 dark:text-gray-600 mb-4" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                                </svg>
                                <p class="text-gray-500 dark:text-gray-400 mb-2">Video placeholder</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">
                                    (YouTube embedding will appear here)
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Check -->
                    <div class="bg-primary/10 dark:bg-primary/20 rounded-lg p-4">
                        <h3 class="font-semibold text-lg mb-3 flex items-center">
                            <svg class="w-5 h-5 mr-2 text-primary" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                            </svg>
                            Quick Check
                        </h3>
                        <p class="mb-3">Which statement is true about support and resistance?</p>
                        <div class="space-y-2">
                            <div class="quiz-option cursor-pointer border border-gray-300 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" data-correct="false">
                                Support acts as a ceiling that prevents prices from rising further
                            </div>
                            <div class="quiz-option cursor-pointer border border-gray-300 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" data-correct="true">
                                When a support level is broken, it often becomes a resistance level
                            </div>
                            <div class="quiz-option cursor-pointer border border-gray-300 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" data-correct="false">
                                Resistance is where buyers typically enter the market
                            </div>
                            <div class="quiz-option cursor-pointer border border-gray-300 rounded-lg p-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" data-correct="false">
                                Support and resistance levels are exact price points, not zones
                            </div>
                        </div>
                        <div class="mt-4 hidden" id="quiz-result-1">
                            <div class="correct-answer hidden text-green-600 dark:text-green-400 font-medium">
                                Correct! When a support level is broken, it often becomes a resistance level in the future. This role reversal is an important concept in technical analysis.
                            </div>
                            <div class="incorrect-answer hidden text-red-600 dark:text-red-400 font-medium">
                                Not quite. Support acts as a floor (not ceiling) where buyers typically enter the market. Resistance acts as a ceiling where sellers typically enter. When broken, these levels often reverse roles.
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation -->
                    <div class="mt-8 flex justify-between">
                        <div></div>
                        <button class="next-section-btn bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-colors flex items-center">
                            Next: Psychology of S&R
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </section>

                <!-- Other sections unchanged -->
                
            </div>
            
            <!-- Completion Modal -->
            <div id="completionModal" class="fixed inset-0 z-50 hidden">
                <div class="absolute inset-0 bg-black/50"></div>
                <div class="relative top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-gray-900 rounded-xl shadow-xl max-w-md w-full p-6">
                    <div class="text-center">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 mb-4">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Chapter 2 Complete!</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-6">
                            Congratulations! You've completed Chapter 2: Support and Resistance. You now have a solid understanding of how to identify and trade using support and resistance levels.
                        </p>
                        <div class="flex flex-col sm:flex-row justify-center gap-3">
                            <button id="closeModalBtn" class="border border-gray-300 dark:border-gray-700 rounded-lg py-2 px-4 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                                Close
                            </button>
                            <button id="nextChapterBtn" class="bg-primary hover:bg-primary/90 text-white rounded-lg py-2 px-4 transition-colors">
                                Go to Next Chapter
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="bg-white dark:bg-darkBg border-t border-gray-200 dark:border-gray-800 py-6">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="mb-4 md:mb-0">
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                            © Ahmad Fauze Abdul Hamit, Ninalyn binti Fridrict, Maryam Qaameelah Othman
                        </p>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">
                            <span class="sr-only">Course Home</span>
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path>
                            </svg>
                        </a>
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">
                            <span class="sr-only">Resources</span>
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"></path>
                            </svg>
                        </a>
                        <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">
                            <span class="sr-only">Help</span>
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Interactive chart elements
            createPricePath();
            
            // Dark mode toggle
            const darkModeToggle = document.getElementById('darkModeToggle');
            darkModeToggle.addEventListener('click', function() {
                document.documentElement.classList.toggle('dark');
            });
            
            // Learning objectives
            const showObjectivesBtn = document.getElementById('showObjectivesBtn');
            const objectives = document.getElementById('objectives');
            
            showObjectivesBtn.addEventListener('click', function() {
                objectives.classList.toggle('hidden');
                if (!objectives.classList.contains('hidden')) {
                    objectives.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
            
            // Start learning button
            const startLearningBtn = document.getElementById('startLearningBtn');
            startLearningBtn.addEventListener('click', function() {
                document.getElementById('section1').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
            
            // Section navigation
            const sectionBtns = document.querySelectorAll('.section-btn');
            const sections = document.querySelectorAll('.section-content');
            
            sectionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    
                    // Update buttons
                    sectionBtns.forEach(b => {
                        b.classList.remove('active', 'bg-primary', 'text-white');
                        b.classList.add('bg-gray-200', 'dark:bg-gray-800', 'hover:bg-gray-300', 'dark:hover:bg-gray-700');
                    });
                    this.classList.add('active', 'bg-primary', 'text-white');
                    this.classList.remove('bg-gray-200', 'dark:bg-gray-800', 'hover:bg-gray-300', 'dark:hover:bg-gray-700');
                    
                    // Update sections
                    sections.forEach(section => {
                        section.classList.remove('active');
                    });
                    document.getElementById('section' + sectionId).classList.add('active');
                    
                    // Update progress
                    updateProgress(parseInt(sectionId));
                });
            });
            
            // Next and previous section buttons
            const nextSectionBtns = document.querySelectorAll('.next-section-btn');
            const prevSectionBtns = document.querySelectorAll('.prev-section-btn');
            
            nextSectionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const currentSection = document.querySelector('.section-content.active');
                    const currentId = currentSection.id.replace('section', '');
                    const nextId = parseInt(currentId) + 1;
                    
                    if (nextId <= sections.length) {
                        // Simulate click on the corresponding section button
                        document.querySelector(`.section-btn[data-section="${nextId}"]`).click();
                        // Scroll to the section
                        document.getElementById('sectionsNav').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
            
            prevSectionBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const currentSection = document.querySelector('.section-content.active');
                    const currentId = currentSection.id.replace('section', '');
                    const prevId = parseInt(currentId) - 1;
                    
                    if (prevId >= 1) {
                        // Simulate click on the corresponding section button
                        document.querySelector(`.section-btn[data-section="${prevId}"]`).click();
                        // Scroll to the section
                        document.getElementById('sectionsNav').scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });
            
            // Quiz options handling
            const quizOptions = document.querySelectorAll('.quiz-option');
            
            quizOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const parentQuiz = this.closest('.bg-primary\\/10, .dark\\:bg-primary\\/20');
                    const resultId = 'quiz-result-' + parentQuiz.querySelector('h3').textContent.trim().split('#')[0].trim().split(' ')[2];
                    const resultDiv = document.getElementById(resultId);
                    const options = parentQuiz.querySelectorAll('.quiz-option');
                    const isCorrect = this.getAttribute('data-correct') === 'true';
                    
                    // Reset all options
                    options.forEach(opt => {
                        opt.classList.remove('selected', 'correct', 'incorrect');
                    });
                    
                    // Mark selected option
                    this.classList.add('selected');
                    if (isCorrect) {
                        this.classList.add('correct');
                    } else {
                        this.classList.add('incorrect');
                        // Also highlight the correct answer
                        options.forEach(opt => {
                            if (opt.getAttribute('data-correct') === 'true') {
                                opt.classList.add('correct');
                            }
                        });
                    }
                    
                    // Show result message
                    if (resultDiv) {
                        resultDiv.classList.remove('hidden');
                        const correctAnswer = resultDiv.querySelector('.correct-answer');
                        const incorrectAnswer = resultDiv.querySelector('.incorrect-answer');
                        
                        if (isCorrect) {
                            correctAnswer.classList.remove('hidden');
                            incorrectAnswer.classList.add('hidden');
                        } else {
                            correctAnswer.classList.add('hidden');
                            incorrectAnswer.classList.remove('hidden');
                        }
                    }
                });
            });
            
            // Chapter completion modal
            const finishChapterBtn = document.getElementById('finishChapterBtn');
            const completionModal = document.getElementById('completionModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const nextChapterBtn = document.getElementById('nextChapterBtn');
            
            if (finishChapterBtn && completionModal) {
                finishChapterBtn.addEventListener('click', function() {
                    completionModal.classList.remove('hidden');
                    updateProgress(6); // Set progress to 100%
                });
                
                closeModalBtn.addEventListener('click', function() {
                    completionModal.classList.add('hidden');
                });
                
                nextChapterBtn.addEventListener('click', function() {
                    // This would normally navigate to Chapter 3
                    alert('This would navigate to Chapter 3');
                    completionModal.classList.add('hidden');
                });
                
                // Close modal when clicking outside
                completionModal.addEventListener('click', function(e) {
                    if (e.target === completionModal) {
                        completionModal.classList.add('hidden');
                    }
                });
            }
            
            // Update progress bar
            function updateProgress(sectionId) {
                const progress = (sectionId / sections.length) * 100;
                const progressBars = document.querySelectorAll('.progress-bar');
                const progressText = document.querySelector('.progress-text');
                
                progressBars.forEach(bar => {
                    bar.style.width = progress + '%';
                });
                
                if (progressText) {
                    progressText.textContent = Math.round(progress) + '%';
                }
            }
            
            // Initialize with first section
            updateProgress(1);
            
            // Create price path points for the intro chart
            function createPricePath() {
                const pricePath = document.getElementById('pricePath');
                if (!pricePath) return;
                
                // Clear existing content
                pricePath.innerHTML = '';
                
                const numPoints = 20;
                const supportLevel = 80; // pixels from bottom
                const resistanceLevel = 180; // pixels from bottom
                
                // Generate a zigzag price path that respects support and resistance
                for (let i = 0; i < numPoints; i++) {
                    let xPos = (i / (numPoints - 1)) * 100; // percentage across chart
                    
                    // Calculate a y position that bounces between support and resistance
                    // This creates a random but realistic-looking price path
                    let trend = Math.sin(i * 0.5) * 50;
                    let randomness = Math.random() * 20 - 10;
                    let yPos = 120 + trend + randomness;
                    
                    // Ensure the price respects support and resistance most of the time
                    // but occasionally tests or slightly breaks the levels
                    if (yPos < supportLevel + 10 && Math.random() > 0.3) {
                        yPos = supportLevel + 10 + Math.random() * 15;
                    } else if (yPos > resistanceLevel - 10 && Math.random() > 0.3) {
                        yPos = resistanceLevel - 10 - Math.random() * 15;
                    }
                    
                    // Create a price point
                    const point = document.createElement('div');
                    point.className = 'price-point';
                    point.style.bottom = `${yPos}px`;
                    point.style.left = `${xPos}%`;
                    pricePath.appendChild(point);
                    
                    // If not the last point, create a line to the next point
                    if (i < numPoints - 1) {
                        // Calculate next position for the line
                        let nextXPos = ((i + 1) / (numPoints - 1)) * 100;
                        let nextTrend = Math.sin((i + 1) * 0.5) * 50;
                        let nextRandomness = Math.random() * 20 - 10;
                        let nextYPos = 120 + nextTrend + nextRandomness;
                        
                        if (nextYPos < supportLevel + 10 && Math.random() > 0.3) {
                            nextYPos = supportLevel + 10 + Math.random() * 15;
                        } else if (nextYPos > resistanceLevel - 10 && Math.random() > 0.3) {
                            nextYPos = resistanceLevel - 10 - Math.random() * 15;
                        }
                        
                        // Calculate line length and angle
                        const dx = (nextXPos - xPos) * pricePath.offsetWidth / 100;
                        const dy = nextYPos - yPos;
                        const length = Math.sqrt(dx * dx + dy * dy);
                        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                        
                        // Create line element
                        const line = document.createElement('div');
                        line.className = 'price-line';
                        line.style.width = `${length}px`;
                        line.style.transform = `rotate(${angle}deg)`;
                        line.style.bottom = `${yPos}px`;
                        line.style.left = `${xPos}%`;
                        line.style.transformOrigin = 'left center';
                        pricePath.appendChild(line);
                    }
                }
            }
        });
    </script>
</body>
</html>
