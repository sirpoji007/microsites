<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizPoint Extractor & AI Toolkit</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://sirpoji007.github.io/microsites/SPQuizizzTool2_20250510_045954_0000.png">

    <!-- Social Media Meta Tags (Open Graph for Facebook, WhatsApp, etc.) -->
    <meta property="og:title" content="QuizPoint Extractor & AI Toolkit">
    <meta property="og:description" content="Upload PDF learning materials, get Quizizz-ready points, and explore the Quizizz AI Toolkit!">
    <meta property="og:image" content="https://sirpoji007.github.io/microsites/SPQuizizzTool2_20250510_045954_0000.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://sirpoji007.github.io/microsites/quizizz-tools-2.html"> <!-- IMPORTANT: Replace with actual URL when hosted -->
    <meta property="og:type" content="website">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="QuizPoint Extractor & AI Toolkit">
    <meta name="twitter:description" content="Upload PDF learning materials, get Quizizz-ready points, and explore the Quizizz AI Toolkit!">
    <meta name="twitter:image" content="https://sirpoji007.github.io/microsites/SPQuizizzTool2_20250510_045954_0000.png">

    <!-- PDF.js library from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
    <script>
        // Required by PDF.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.worker.min.js';
    </script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        :root {
            --primary-color: #6e8efb;
            --secondary-color: #a777e3;
            --accent-color: #ff7e5f;
            --text-color: #333;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            --toolkit-card-hover-shadow: 0 10px 25px rgba(110, 142, 251, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            background-image: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for scroll */
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            background-color: var(--card-bg);
            padding: 30px 40px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            width: 100%;
            max-width: 900px; /* Increased max-width for toolkit */
            text-align: center;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        header {
            margin-bottom: 30px;
        }

        .logo-avatar {
            font-size: 3rem;
            margin-bottom: 10px;
            display: inline-block;
            padding: 10px;
            background: linear-gradient(45deg, var(--accent-color), #feca57);
            color: white;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            line-height: 60px;
            box-shadow: 0 4px 15px rgba(255, 126, 95, 0.4);
        }

        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        header p {
            font-size: 1.1rem;
            color: #555;
        }

        section {
            background-color: #f9f9f9;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            text-align: left;
        }

        section h2 {
            font-size: 1.8rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
            display: inline-block;
        }

        .guidelines ol {
            list-style-position: inside;
            padding-left: 0;
        }

        .guidelines li {
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .guidelines strong {
            color: var(--primary-color);
        }

        .file-drop-area {
            border: 3px dashed var(--primary-color);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            transition: background-color 0.3s ease;
            background-color: #eef2f7;
        }

        .file-drop-area.dragover {
            background-color: #d9e4f1;
            border-style: solid;
        }

        .file-msg {
            display: block;
            margin-bottom: 15px;
            font-size: 1rem;
            color: #666;
        }

        .file-name-display {
            margin-top: 15px;
            font-style: italic;
            color: #555;
            font-size: 0.9rem;
        }

        .button-style, .file-input-label {
            display: inline-block;
            background-image: linear-gradient(to right, var(--accent-color) 0%, #feca57 51%, var(--accent-color) 100%);
            background-size: 200% auto;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 10px rgba(255, 126, 95, 0.3);
        }

        .button-style:hover, .file-input-label:hover {
            background-position: right center;
            box-shadow: 0 6px 15px rgba(255, 126, 95, 0.5);
            transform: translateY(-2px);
        }

        .file-input-label span, .copy-button span {
            margin-left: 5px;
        }

        .copy-button {
            margin-top: 15px;
            display: block;
            width: auto;
            margin-left: auto;
            margin-right: auto;
        }

        #outputText {
            width: 100%;
            padding: 15px;
            border-radius: var(--border-radius);
            border: 1px solid #ddd;
            font-family: 'Poppins', sans-serif;
            font-size: 0.95rem;
            background-color: #fff;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
            margin-top: 10px;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            color: #D8000C;
            background-color: #FFD2D2;
            border: 1px solid #D8000C;
            padding: 10px;
            border-radius: var(--border-radius);
            margin-top: 15px;
            text-align: center;
        }

        /* --- Quizizz AI Toolkit Section Styles --- */
        .toolkit-section {
            background-color: #e6eafc; /* Light, friendly blue */
            padding: 30px;
            margin-top: 40px; /* Space above this section */
            margin-bottom: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.07);
            text-align: center;
        }

        .toolkit-section h2 {
            font-size: 2rem;
            color: var(--primary-color); /* Use primary color for consistency */
            margin-bottom: 10px;
            border-bottom: none; /* Remove individual border, section is distinct */
            text-align: center;
            width: 100%;
        }

        .toolkit-section > p { /* Direct child p for the subtitle */
            font-size: 1rem;
            color: #4a5568; /* Softer text color */
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .toolkit-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Min card width 200px */
            gap: 25px; /* Increased gap */
            text-align: left;
        }

        .toolkit-card-link {
            text-decoration: none; /* Remove underline from link */
            color: inherit; /* Inherit text color */
            display: block; /* Make the link fill the grid cell */
        }

        .toolkit-card {
            background: var(--card-bg);
            padding: 25px 20px;
            border-radius: var(--border-radius);
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 12px rgba(110, 142, 251, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            height: 100%; /* Ensure cards in a row have same height */
            cursor: pointer;
        }

        .toolkit-card:hover {
            transform: translateY(-6px) scale(1.04);
            box-shadow: var(--toolkit-card-hover-shadow);
            border-color: var(--primary-color);
        }

        .toolkit-card-icon {
            font-size: 2.8rem; /* Larger icons */
            margin-bottom: 18px;
            width: 70px;  /* Fixed width for icon container */
            height: 70px; /* Fixed height for icon container */
            border-radius: 50%;
            display: flex; /* Use flex to center icon inside */
            align-items: center;
            justify-content: center;
            color: white;
            transition: background 0.3s ease;
        }

        /* Vibrant icon backgrounds using nth-child for variety */
        .toolkit-card:nth-child(6n+1) .toolkit-card-icon { background: linear-gradient(135deg, #ff7e5f, #feb47b); } /* Coral to Peach */
        .toolkit-card:nth-child(6n+2) .toolkit-card-icon { background: linear-gradient(135deg, #6e8efb, #a777e3); } /* Blue to Purple */
        .toolkit-card:nth-child(6n+3) .toolkit-card-icon { background: linear-gradient(135deg, #29b6f6, #00e5ff); } /* Light Blue to Cyan */
        .toolkit-card:nth-child(6n+4) .toolkit-card-icon { background: linear-gradient(135deg, #ff5f6d, #ffc371); } /* Red to Orange */
        .toolkit-card:nth-child(6n+5) .toolkit-card-icon { background: linear-gradient(135deg, #84fab0, #8fd3f4); } /* Green to Light Blue */
        .toolkit-card:nth-child(6n+6) .toolkit-card-icon { background: linear-gradient(135deg, #ab47bc, #f48fb1); } /* Purple to Pink */


        .toolkit-card-name {
            font-size: 1rem; /* Slightly larger name */
            font-weight: 600;
            line-height: 1.4;
            color: var(--text-color);
        }

        .toolkit-card:hover .toolkit-card-name {
            color: var(--primary-color);
        }
        /* --- End Toolkit Section Styles --- */

        footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            font-size: 0.9rem;
            color: #777;
            text-align: center;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                max-width: 100%;
            }
            header h1 {
                font-size: 2rem;
            }
            section h2 {
                font-size: 1.5rem;
            }
            .toolkit-section h2 {
                font-size: 1.75rem;
            }
            .button-style, .file-input-label {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
            .file-drop-area {
                padding: 20px;
            }
            .toolkit-grid {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); /* Adjust for smaller screens */
                gap: 15px;
            }
            .toolkit-card {
                padding: 20px 15px;
            }
            .toolkit-card-icon {
                font-size: 2.2rem;
                width: 60px;
                height: 60px;
                margin-bottom: 12px;
            }
            .toolkit-card-name {
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 1.8rem;
            }
            .logo-avatar {
                font-size: 2.5rem;
                width: 60px;
                height: 60px;
                line-height: 40px;
            }
            section {
                padding: 15px;
            }
            .guidelines li {
                font-size: 0.9rem;
            }
            .toolkit-grid {
                 grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); /* Smaller cards for very small screens */
            }
             .toolkit-card-icon {
                font-size: 2rem;
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-avatar">🎯</div>
            <h1>QuizPoint Extractor</h1>
            <p>Upload your PDF learning materials and get Quizizz-ready points!</p>
        </header>

        <main>
            <section class="guidelines">
                <h2>💡 How to Use (PDF Extractor):</h2>
                <ol>
                    <li><strong>Prepare Your PDF:</strong> Ensure your PDF contains selectable text (not just images of text).</li>
                    <li><strong>Upload:</strong> Click "Choose PDF" or drag & drop your file onto the area below.</li>
                    <li><strong>Process:</strong> The tool will automatically extract and format text into points.</li>
                    <li><strong>Copy:</strong> Review the generated points and copy them for use in Quizizz AI.</li>
                </ol>
            </section>

            <section class="upload-section">
                <h2>📤 Upload Your PDF</h2>
                <div class="file-drop-area">
                    <span class="file-msg">Drag & drop your PDF here, or</span>
                    <input type="file" id="pdfFile" accept=".pdf" hidden>
                    <label for="pdfFile" class="file-input-label button-style">
                        <span>📄 Choose PDF</span>
                    </label>
                    <div class="file-name-display" id="fileNameDisplay">No file selected</div>
                </div>
                <div id="loader" class="loader" style="display: none;"></div>
                <div id="error-message" class="error-message" style="display: none;"></div>
            </section>

            <section class="output-section">
                <h2>✨ Your Quizizz Points:</h2>
                <p>Plain text points, optimized for Quizizz AI. Copy and paste!</p>
                <textarea id="outputText" rows="15" placeholder="Your extracted points will appear here..." readonly></textarea>
                <button id="copyButton" class="button-style copy-button" style="display:none;">
                    <span>📋 Copy Points</span>
                </button>
            </section>

            <!-- Quizizz AI Toolkit Section -->
            <section class="toolkit-section">
                <h2>🚀 Explore the Quizizz AI Toolkit</h2>
                <p>Click any tool below to open it in a new window and supercharge your teaching & learning!</p>
                <div class="toolkit-grid" id="quizizzToolkitGrid">
                    <!-- Toolkit items will be dynamically inserted here by JavaScript -->
                </div>
            </section>
            <!-- End Quizizz AI Toolkit Section -->

        </main>

        <footer>
            <p>SirPoji 2025 © All rights reserved</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const pdfFileInput = document.getElementById('pdfFile');
            const fileDropArea = document.querySelector('.file-drop-area');
            const fileNameDisplay = document.getElementById('fileNameDisplay');
            const outputText = document.getElementById('outputText');
            const copyButton = document.getElementById('copyButton');
            const loader = document.getElementById('loader');
            const errorMessage = document.getElementById('error-message');

            // --- File Drop Area Logic ---
            fileDropArea.addEventListener('dragover', (event) => {
                event.preventDefault();
                fileDropArea.classList.add('dragover');
            });

            fileDropArea.addEventListener('dragleave', () => {
                fileDropArea.classList.remove('dragover');
            });

            fileDropArea.addEventListener('drop', (event) => {
                event.preventDefault();
                fileDropArea.classList.remove('dragover');
                const files = event.dataTransfer.files;
                if (files.length > 0) {
                    if (files[0].type === "application/pdf") {
                        pdfFileInput.files = files;
                        handleFile(files[0]);
                    } else {
                        showError("Please drop a PDF file.");
                        resetUI();
                    }
                }
            });
            
            fileDropArea.addEventListener('click', (event) => {
                if (event.target.classList.contains('file-input-label') || event.target.parentElement.classList.contains('file-input-label')) {
                    // Default action
                } else if (event.target !== pdfFileInput) {
                     pdfFileInput.click();
                }
            });

            pdfFileInput.addEventListener('change', (event) => {
                const file = event.target.files[0];
                if (file) {
                    handleFile(file);
                } else {
                    resetUI();
                }
            });

            function handleFile(file) {
                if (file.type !== "application/pdf") {
                    showError("Invalid file type. Please upload a PDF.");
                    resetUI();
                    return;
                }
                fileNameDisplay.textContent = `Selected: ${file.name}`;
                outputText.value = '';
                copyButton.style.display = 'none';
                hideError();
                extractTextFromPdf(file);
            }
            
            function resetUI() {
                fileNameDisplay.textContent = "No file selected";
                pdfFileInput.value = '';
                outputText.value = '';
                copyButton.style.display = 'none';
                hideError();
            }

            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.style.display = 'block';
            }

            function hideError() {
                errorMessage.style.display = 'none';
            }

            async function extractTextFromPdf(file) {
                loader.style.display = 'block';
                outputText.placeholder = "Processing your PDF... please wait.";
                hideError();

                const reader = new FileReader();
                reader.onload = async (e) => {
                    const typedarray = new Uint8Array(e.target.result);
                    try {
                        const pdf = await pdfjsLib.getDocument({ data: typedarray }).promise;
                        let fullText = '';
                        for (let i = 1; i <= pdf.numPages; i++) {
                            const page = await pdf.getPage(i);
                            const textContent = await page.getTextContent();
                            textContent.items.forEach(item => {
                                fullText += item.str + ' ';
                            });
                            fullText += '\n';
                        }
                        processTextForQuizizz(fullText);
                    } catch (error) {
                        console.error("Error parsing PDF:", error);
                        showError("Could not process the PDF. It might be corrupted, encrypted, or image-based.");
                        outputText.placeholder = "Error processing PDF.";
                    } finally {
                        loader.style.display = 'none';
                    }
                };
                reader.onerror = () => {
                    console.error("File reading error");
                    showError("Error reading the file.");
                    loader.style.display = 'none';
                    outputText.placeholder = "Error reading file.";
                };
                reader.readAsArrayBuffer(file);
            }

            function processTextForQuizizz(rawText) {
                let cleanedText = rawText.replace(/[*#_]/g, '');
                cleanedText = cleanedText.replace(/\s\s+/g, ' ').trim();
                const potentialPoints = cleanedText.split(/(?<=[.?!])\s+|\n+/);
                let quizizzPoints = [];
                potentialPoints.forEach(point => {
                    let trimmedPoint = point.trim();
                    trimmedPoint = trimmedPoint.replace(/^(\d+\.|[a-zA-Z]\)|\-\s*)/, '').trim();
                    if (trimmedPoint.length > 5 && trimmedPoint.length < 200) { 
                        trimmedPoint = trimmedPoint.replace(/[^\w\s,.?!'"()-]/g, ''); 
                        quizizzPoints.push(trimmedPoint);
                    }
                });

                if (quizizzPoints.length > 0) {
                    outputText.value = quizizzPoints.join('\n');
                    copyButton.style.display = 'block';
                    outputText.placeholder = "Your extracted points will appear here...";
                } else {
                    outputText.value = '';
                    outputText.placeholder = "No suitable points found.";
                    showError("No suitable points extracted. Check PDF content or formatting.");
                    copyButton.style.display = 'none';
                }
            }

            copyButton.addEventListener('click', () => {
                outputText.select();
                outputText.setSelectionRange(0, 99999);
                try {
                    document.execCommand('copy');
                    const originalText = copyButton.textContent;
                    copyButton.textContent = 'Copied!';
                    setTimeout(() => {
                        copyButton.textContent = originalText;
                    }, 1500);
                } catch (err) {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy. Please manually select and copy.');
                }
            });

            // --- Quizizz AI Toolkit Population ---
            const quizizzTools = [
                { name: "Multiple Choice Quiz Generator", url: "https://quizizz.com/ai-toolkit/multiple-choice-quiz-generator", icon: "❓" },
                { name: "Practice Worksheet Generator", url: "https://quizizz.com/ai-toolkit/practice-worksheet-generator", icon: "📝" },
                { name: "Reading Passage Generator", url: "https://quizizz.com/ai-toolkit/reading-passage-generator", icon: "📖" },
                { name: "Math Word Problems Generator", url: "https://quizizz.com/ai-toolkit/math-word-problems-generator", icon: "📐" },
                { name: "Story Based Problems Quiz Generator", url: "https://quizizz.com/ai-toolkit/story-based-problems-quiz-generator", icon: "📚" },
                { name: "Bloom's Taxonomy Aligned Quiz", url: "https://quizizz.com/ai-toolkit/blooms-taxonomy-aligned-quiz-generator", icon: "🧠" },
                { name: "Real World Scenario Quiz Generator", url: "https://quizizz.com/ai-toolkit/real-world-scenario-quiz-generator", icon: "🌍" },
                { name: "Lesson Plan Generator", url: "https://quizizz.com/ai-toolkit/lesson-plan-generator", icon: "📅" },
                { name: "Classroom Activity Plan Generator", url: "https://quizizz.com/ai-toolkit/classroom-activity-plan-generator", icon: "🎉" },
                { name: "Evaluation Rubric Generator", url: "https://quizizz.com/ai-toolkit/evaluation-rubric-generator", icon: "✔️" },
                { name: "Grade Level Adjuster", url: "https://quizizz.com/ai-toolkit/grade-level-adjuster", icon: "📊" },
                { name: "Content Translator", url: "https://quizizz.com/ai-toolkit/content-translator", icon: "🌐" },
                { name: "Email Generator for Teachers", url: "https://quizizz.com/ai-toolkit/email-generator-for-teachers", icon: "📧" },
                { name: "Student Feedback Report Generator", url: "https://quizizz.com/ai-toolkit/student-feedback-report-generator", icon: "🗣️" },
                { name: "AI Assignment Grader", url: "https://quizizz.com/ai-toolkit/ai-assignment-grader", icon: "💯" }
            ];

            function populateToolkitGrid() {
                const gridContainer = document.getElementById('quizizzToolkitGrid');
                if (!gridContainer) return;

                quizizzTools.forEach(tool => {
                    const cardLink = document.createElement('a');
                    cardLink.href = tool.url;
                    cardLink.target = "_blank";
                    cardLink.rel = "noopener noreferrer";
                    cardLink.classList.add('toolkit-card-link');

                    const cardDiv = document.createElement('div');
                    cardDiv.classList.add('toolkit-card');

                    const iconSpan = document.createElement('span');
                    iconSpan.classList.add('toolkit-card-icon');
                    iconSpan.textContent = tool.icon;

                    const nameParagraph = document.createElement('p');
                    nameParagraph.classList.add('toolkit-card-name');
                    nameParagraph.textContent = tool.name;

                    cardDiv.appendChild(iconSpan);
                    cardDiv.appendChild(nameParagraph);
                    cardLink.appendChild(cardDiv);
                    gridContainer.appendChild(cardLink);
                });
            }

            populateToolkitGrid(); // Call the function to build the toolkit grid
        });
    </script>
</body>
</html>
